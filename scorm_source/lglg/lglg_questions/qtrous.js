var proto_qtrous={donnees:{},affich:function(d){var b=document.querySelector("#ctnQuestion_"+d),a=document.createElement("p");if(0<this.donnees.extraitQuestion.fin){var c=document.createElement("span");c.id="btnVidExtrait_q_"+d+"_vo";c.className=" btnExtraitVidVo";c.onclick=lireExtraitVid;a.appendChild(c)}var a=document.createElement("div"),c=this.donnees.txtQuestion.split("*"),f="";for(d=0;d<c.length;d++)0===d%2?f+=c[d]:(f+="<input type='text' id='tiTrou_"+c[d]+"' onchange='enregistreRep();'>",f+=
"<span id='txtCorr_"+c[d]+"' class='txtCorr'></span>");c=f.replace(/\$(\w*)\$/g,"<div id='txtFb_$1' class='txtFb'></div>");a.innerHTML=c;b.appendChild(a);a=document.createElement("div");a.id="ctnClavier_"+d;a.className="ctnClavierClass";b.appendChild(a);a=document.createElement("div");a.className="feedback txtCorrection";a.innerHTML=this.donnees.txtCorrection;b.appendChild(a);0<this.donnees.extraitCorrection.fin&&(a=document.createElement("div"),a.id="btnVidExtrait_c_"+d+"_vo",a.className="feedback btnExtraitVidVo",
a.onclick=lireExtraitVid,b.appendChild(a),this.donnees.extraitCorrection.affichST||(a=document.createElement("div"),a.id="btnVidExtrait_c_"+d+"_st",a.className="feedback btnExtraitVidSt",a.onclick=lireExtraitVid,b.appendChild(a)));a=document.createElement("div");a.className="feedback autoEval";a.id="ctnAutoEvaluation_"+d;b.appendChild(a);tblExo.scenario.msgAE&&creationAE(d)},corr:function(d){console.log("corr de qtrou,"+pCourante+" - "+d);$("#ctnQuestion_"+d+" .feedback").show("fast");for(var b in this.donnees.trous){console.log("boucle sur trou : "+
b+"\n"+JSON.stringify(this.donnees));var a=document.getElementById("tiTrou_"+b);document.getElementById("txtCorr_"+b).innerHTML=this.donnees.trous[b][0].saisie;if(a){a.disabled=!0;a.classList.add("saisieFausse");for(var c=0;c<this.donnees.trous[b].length;c++)if(tblReponses[pCourante].reps[d]===this.donnees.trous[b][c].saisie){this.donnees.trous[b][c].correct?(a.classList.remove("saisieFausse"),a.classList.add("saisieBonne"),document.getElementById("txtCorr_"+b).style.display="none"):document.getElementById("txtCorr_"+
b).style.display="inline";e&&(reponses.score+=parseInt(this.donnees.trous[b][c].score));this.donnees.trous[b][c].fb&&$("#txtFb_"+b).html(this.donnees.trous[b][c].fb);break}else document.getElementById("txtCorr_"+b).style.display="inline"}}}};
